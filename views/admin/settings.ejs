<%- include('../partials/header') %>

<div class="min-h-screen bg-nude-light">
    <!-- Admin Header -->
    <% activePage = 'config' %>
    <%- include('../partials/admin-header') %>

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
        <!-- Header -->
        <div class="mb-6 sm:mb-8">
            <h1 class="font-serif text-2xl sm:text-3xl text-dark mb-1 sm:mb-2">Configuracoes</h1>
            <p class="text-dark-soft/60 text-sm sm:text-base">Gerencie as informacoes da sua loja</p>
        </div>

        <!-- Success/Error Messages -->
        <% if (success) { %>
            <div class="bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4 sm:mb-6 text-sm sm:text-base">
                <%= success %>
            </div>
        <% } %>
        <% if (error) { %>
            <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4 sm:mb-6 text-sm sm:text-base">
                <%= error %>
            </div>
        <% } %>

        <!-- Store Settings -->
        <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 lg:p-8 mb-4 sm:mb-6 lg:mb-8">
            <h2 class="font-medium text-dark text-lg sm:text-xl mb-4 sm:mb-6">Informacoes da Loja</h2>

            <form action="/admin/configuracoes" method="POST" class="space-y-4 sm:space-y-6">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6">
                    <!-- Store Name -->
                    <div>
                        <label for="storeName" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">Nome da Loja</label>
                        <input type="text" id="storeName" name="storeName"
                               value="<%= settings.storeName || '' %>"
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base"
                               placeholder="Madame Modas">
                    </div>

                    <!-- Slogan -->
                    <div>
                        <label for="storeSlogan" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">Slogan</label>
                        <input type="text" id="storeSlogan" name="storeSlogan"
                               value="<%= settings.storeSlogan || '' %>"
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base"
                               placeholder="Moda Feminina & Fitness">
                    </div>

                    <!-- WhatsApp -->
                    <div>
                        <label for="whatsappNumber" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">WhatsApp</label>
                        <input type="text" id="whatsappNumber" name="whatsappNumber"
                               value="<%= settings.whatsappNumber || '' %>"
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base"
                               placeholder="5511999999999">
                        <p class="text-dark-soft/60 text-xs sm:text-sm mt-1">55 + DDD + Numero (sem espacos)</p>
                    </div>

                    <!-- Instagram -->
                    <div>
                        <label for="instagram" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">Instagram</label>
                        <input type="text" id="instagram" name="instagram"
                               value="<%= settings.instagram || '' %>"
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base"
                               placeholder="@madamemodas">
                    </div>

                    <!-- Email -->
                    <div class="sm:col-span-2">
                        <label for="email" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">E-mail</label>
                        <input type="email" id="email" name="email"
                               value="<%= settings.email || '' %>"
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base"
                               placeholder="contato@madamemodas.com">
                    </div>
                </div>

                <div class="flex justify-end pt-2 sm:pt-4">
                    <button type="submit"
                            class="w-full sm:w-auto bg-dark text-nude-light px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg font-medium hover:bg-dark-soft transition-colors text-sm sm:text-base">
                        Salvar Configuracoes
                    </button>
                </div>
            </form>
        </div>

        <!-- Change Password -->
        <div class="bg-white rounded-xl shadow-sm p-4 sm:p-6 lg:p-8">
            <h2 class="font-medium text-dark text-lg sm:text-xl mb-4 sm:mb-6">Alterar Senha</h2>

            <form action="/admin/alterar-senha" method="POST" class="space-y-4 sm:space-y-6">
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                    <div>
                        <label for="currentPassword" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">Senha Atual</label>
                        <input type="password" id="currentPassword" name="currentPassword" required
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base">
                    </div>

                    <div>
                        <label for="newPassword" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">Nova Senha</label>
                        <input type="password" id="newPassword" name="newPassword" required minlength="6"
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base">
                    </div>

                    <div class="sm:col-span-2 lg:col-span-1">
                        <label for="confirmPassword" class="block text-sm font-medium text-dark mb-1.5 sm:mb-2">Confirmar Senha</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" required minlength="6"
                               class="w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-nude-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-dark/20 text-sm sm:text-base">
                    </div>
                </div>

                <div class="flex justify-end pt-2 sm:pt-4">
                    <button type="submit"
                            class="w-full sm:w-auto bg-rose text-dark px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg font-medium hover:bg-rose-light transition-colors text-sm sm:text-base">
                        Alterar Senha
                    </button>
                </div>
            </form>
        </div>
    </main>
</div>

<%- include('../partials/footer') %>
